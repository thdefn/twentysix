FROM openjdk:22
ARG JAR_FILE=brand/build/libs/brand-0.0.1-SNAPSHOT.jar

ARG DB_URL
ARG S3_BUCKET_NAME
ARG S3_ACCESS_KEY
ARG S3_SECRET_KEY
ARG DB_PASSWORD

ENV DB_URL=${DB_URL}
ENV S3_BUCKET_NAME=${S3_BUCKET_NAME}
ENV S3_ACCESS_KEY=${S3_ACCESS_KEY}
ENV S3_SECRET_KEY=${S3_SECRET_KEY}
ENV DB_PASSWORD=${DB_PASSWORD}

COPY ${JAR_FILE} /app.jar
ENTRYPOINT ["java","-Duser.timezone=Asia/Seoul", "-Dspring.profiles.active=test","-jar","/app.jar"]